# memOS Server Requirements for Recovery Bot Integration
#
# =============================================================================
# Python 3.14 Compatibility Note (2026-01-12)
# =============================================================================
# onnxruntime does not have official PyPI wheels for Python 3.14 yet.
# The venv/pip.conf is configured to use Microsoft's ORT-Nightly feed:
#   https://aiinfra.pkgs.visualstudio.com/PublicPackages/_packaging/ORT-Nightly/pypi/simple/
#
# If you need to manually install onnxruntime on Python 3.14:
#   pip install --pre --index-url https://aiinfra.pkgs.visualstudio.com/PublicPackages/_packaging/ORT-Nightly/pypi/simple/ onnxruntime --no-deps
#   pip install flatbuffers numpy packaging protobuf sympy coloredlogs
#
# Remove this workaround when onnxruntime >= 1.24 is officially released with cp314 wheels.
# =============================================================================

# Core Memory Framework
mem0ai>=0.1.0                    # Primary memory framework
sentence-transformers>=2.2.2     # Text embeddings
gliner>=0.2.0                    # Zero-shot NER for entity extraction (G.3.3)

# ML/Deep Learning (required by sentence-transformers)
torch>=2.0.0                     # PyTorch for embeddings and ML
transformers>=4.30.0             # Hugging Face transformers
scikit-learn>=1.3.0              # ML utilities for clustering/similarity

# FastAPI and Web Framework
fastapi>=0.104.1                 # Web framework
uvicorn>=0.24.0                  # ASGI server
pydantic>=2.5.0                  # Data validation
pydantic-settings>=2.1.0         # Settings management
python-multipart>=0.0.6         # Form data support

# Database Integration
psycopg2-binary>=2.9.7           # PostgreSQL adapter
asyncpg>=0.29.0                   # Async PostgreSQL driver
pgvector>=0.2.3                  # Vector extension for PostgreSQL
sqlalchemy>=2.0.23               # ORM
alembic>=1.13.1                  # Database migrations

# Authentication and Security
PyJWT>=2.8.0                     # JWT tokens
argon2-cffi>=23.1.0              # Password hashing
cryptography>=41.0.7             # Encryption utilities
python-jose[cryptography]>=3.3.0 # JWT handling

# Redis and Caching
redis>=5.0.1                     # Redis client (includes redis.asyncio for async)
msgpack>=1.0.7                   # MessagePack serialization for Redis cache (faster than JSON)
qdrant-client>=1.6.0             # Qdrant vector DB for semantic cache

# HTTP and Web
httpx>=0.25.2                    # Primary async HTTP client (replaces aiohttp in production)
aiohttp>=3.9.0                   # Async HTTP (test files only - production migrated to httpx 2026-01)
beautifulsoup4>=4.12.0           # HTML parsing for web scraping
aiometer>=0.5.0                  # Async rate limiting for web scraping

# LLM Integration
openai>=1.3.8                    # OpenAI-compatible client
ollama>=0.1.7                    # Ollama Python client

# Advanced RAG (G.5) - Optional, fallbacks available
# colbert-ai>=0.2.22             # ColBERT late interaction (optional - uses Ollama fallback)
faiss-cpu>=1.7.4                 # Efficient similarity search indexing

# Data Processing
numpy>=1.24.4                    # Numerical operations
pandas>=2.1.3                    # Data manipulation (optional)

# Monitoring and Logging
structlog>=23.2.0                # Structured logging
prometheus-client>=0.19.0        # Metrics
python-json-logger>=2.0.7        # JSON logging

# Development and Testing
pytest>=7.4.3                    # Testing framework
pytest-asyncio>=0.21.1           # Async testing
black>=23.11.0                   # Code formatting
ruff>=0.1.6                      # Linting

# Environment Management
python-dotenv>=1.0.0             # Environment variables
pyyaml>=6.0.1                    # YAML configuration

# HIPAA Compliance and Privacy
# anonymizer and audit-logger packages not available on PyPI
# Using custom implementations in the codebase instead

# Text-to-Speech
edge-tts>=6.1.0                  # Microsoft Edge TTS (free, high-quality voices)
pydub>=0.25.1                    # Audio format conversion (MP3 to WAV for Android)